<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>动态添加图形和图片并可以拖拽</title>
    <meta content="width=device-width;initial-scale=1">
    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script src="../../node_modules/@svgdotjs/svg.js/dist/svg.js"></script>
    <script src="../../node_modules/@svgdotjs/svg.draggable.js/dist/svg.draggable.js"></script>
    <style>
        #drawing {
            width: 100%;
            height: 500px;
            margin: 0;
        }

        .graph {
            background: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 4px;
            height: 525px;
        }

        .graph2 {
            background: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 4px;
            height: 525px;
        }
    </style>
</head>

<body>
    <div class="col-lg-6">
        <div class="graph2">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgElement">
                <rect class="my-class" x="100" y="50" width="100" height="100" stroke="black" stroke-width="2"
                    fill="red" />
            </svg>
        </div>
    </div>
    <div id="canvas" class="col-lg-6">

    </div>

</body>
<script>
    SVG("#svgElement").size(900, 600);
    var draw2 = SVG("rect.my-class");
    draw2.draggable();
    /*
    draw2.on('dragstart.namespace', function (e) {
      console.log('dragstart.namespace', e);
    })
    
    
    draw2.draggable().on('beforedrag', e => {
      e.preventDefault()
      console.log('beforedrag', e);
    })
    */
    draw2.draggable().on('dragmove', e => {
        e.preventDefault()
        console.log('dragmove', e);
        e.detail.handler.move(1, 1)
        // events are still bound e.g. dragend will fire anyway
    })

</script>

</html>